!function(e){function t(t){for(var n,i,l=t[0],o=t[1],c=t[2],m=0,d=[];m<l.length;m++)i=l[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(u&&u(t);d.length;)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,l=1;l<a.length;l++){var o=a[l];0!==r[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/what-to-watch";var l=window.webpackJsonp=window.webpackJsonp||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;s.push([58,1]),a()}([,,function(e,t,a){"use strict";a.r(t),a.d(t,"AppRoute",(function(){return n})),a.d(t,"AuthStatus",(function(){return r})),a.d(t,"ButtonType",(function(){return s})),a.d(t,"EscKeyName",(function(){return i})),a.d(t,"FavoriteButtonPlace",(function(){return c})),a.d(t,"FilmCardsListType",(function(){return l})),a.d(t,"FilmDetailedTabsType",(function(){return o})),a.d(t,"NoAvailableMessage",(function(){return u})),a.d(t,"SpaceKeyName",(function(){return m})),a.d(t,"StatusRequestServer",(function(){return d}));const n={ADD_COMMENT:"/films/:id/review",FILM:"/films/:id",LOGIN:"/login",MY_LIST:"/mylist",PLAYER:"/player/:id",NOT_FOUND:"*",ROOT:"/"},r={AUTH:"AUTH",NO_AUTH:"NO_AUTH"},s={ADD_REVIEW:"ADD_REVIEW",PLAY:"play",LIST:"list"},i={LONG:"Escape",SHORT:"Esc"},l={FAVORITES:"favorites",MAIN:"main",LIKE_THIS:"like-this"},o={OVERVIEW:"Overview",DETAILS:"Details",REVIEWS:"Reviews"},c={DETAILED:"DETAILED",MAIN:"MAIN"},u={ERROR_SERVER:"Sorry, server not available. Please, check your connection to internet",FILMS:"Sorry, no available films...",PAGE:"Sorry, page not found..."},m={CODE:32,TEXT:"Space"},d={FAIL:"fail",SUCCESS:"success"}},function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=(e,t)=>Object.assign({},e,t)},function(e,t,a){"use strict";const n={COMMENT:"COMMENT",FAVORITE:"FAVORITE",FILMS:"FILMS",OPTIONS:"OPTIONS",USER:"USER"};t.a=n},,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"ActionType",(function(){return s})),a.d(t,"ActionCreator",(function(){return i})),a.d(t,"reducer",(function(){return l}));var n=a(3);const r={amountRenderFilmCard:8,genre:"All genres",film:null},s={RESET_AMOUNT_RENDER_FILM_CARD:"RESET_AMOUNT_RENDER_FILM_CARD",RESET_FILM:"RESET_FILM",SET_AMOUNT_RENDER_FILM_CARD:"SET_AMOUNT_RENDER_FILM_CARD",SET_GENRE:"SET_GENRE",SET_FILM:"SET_FILM"},i={resetAmountRenderFilmCard:()=>({type:s.RESET_AMOUNT_RENDER_FILM_CARD,payload:null}),resetFilm:()=>({type:s.RESET_FILM,payload:null}),setAmountRenderFilmCard:()=>({type:s.SET_AMOUNT_RENDER_FILM_CARD,payload:null}),setGenre:e=>({type:s.SET_GENRE,payload:e}),setFilm:e=>({type:s.SET_FILM,payload:e})},l=(e=r,t)=>{switch(t.type){case s.RESET_AMOUNT_RENDER_FILM_CARD:return Object(n.a)(e,{amountRenderFilmCard:8});case s.RESET_FILM:return Object(n.a)(e,{film:t.payload});case s.SET_AMOUNT_RENDER_FILM_CARD:{const t=e.amountRenderFilmCard+8;return Object(n.a)(e,{amountRenderFilmCard:t})}case s.SET_GENRE:return Object(n.a)(e,{genre:t.payload});case s.SET_FILM:return Object(n.a)(e,{film:t.payload})}return e}},,,function(e,t,a){"use strict";a.r(t),a.d(t,"getFilms",(function(){return i})),a.d(t,"getFilmsByGenre",(function(){return u})),a.d(t,"getFilmsLikeThis",(function(){return m})),a.d(t,"getGenres",(function(){return d})),a.d(t,"getPromoFilm",(function(){return l})),a.d(t,"getStatusFilms",(function(){return o})),a.d(t,"getStatusPromo",(function(){return c}));var n=a(27),r=a(4);const s=["All genres"],i=e=>e[r.a.FILMS].films,l=e=>e[r.a.FILMS].promoFilm,o=e=>e[r.a.FILMS].statusLoadFilms,c=e=>e[r.a.FILMS].statusLoadPromo,u=Object(n.a)(i,e=>e[r.a.OPTIONS].genre,(e,t)=>t===s[0]?e:e.filter(e=>e.genre===t)),m=Object(n.a)(i,e=>null===e[r.a.OPTIONS].film?null:e[r.a.OPTIONS].film.genre,(e,t)=>e.filter(e=>e.genre===t).slice(0,4)),d=Object(n.a)(i,e=>{const t=new Set(e.map(e=>e.genre));return s.concat(Array.from(t))})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(30);t.default=e=>{const{isLink:t}=e;return n.createElement("footer",{className:"page-footer"},n.createElement(r.default,{isLink:t,modificatorClass:"logo__link--light"}),n.createElement("div",{className:"copyright"},n.createElement("p",null,"Â© 2019 What to watch Ltd.")))}},function(e,t,a){"use strict";a.r(t),a.d(t,"ActionCreator",(function(){return o})),a.d(t,"ActionType",(function(){return l})),a.d(t,"Operation",(function(){return c})),a.d(t,"reducer",(function(){return u}));var n=a(19),r=a(3),s=a(2);const i={films:[],promoFilm:null,statusLoadFilms:null,statusLoadPromo:null},l={LOAD_FILMS:"LOAD_FILMS",LOAD_PROMO_FILM:"LOAD_PROMO_FILM",SET_PROMO_FILM:"SET_PROMO_FILM",SET_STATUS_LOAD_FILMS:"SET_STATUS_LOAD_FILMS",SET_STATUS_LOAD_PROMO:"SET_STATUS_LOAD_PROMO"},o={loadFilms:e=>({type:l.LOAD_FILMS,payload:e}),loadPromoFilm:e=>({type:l.LOAD_PROMO_FILM,payload:e}),setPromoFilm:e=>({type:l.SET_PROMO_FILM,payload:e}),setStatusLoadFilms:e=>({type:l.SET_STATUS_LOAD_FILMS,payload:e}),setStatusLoadPromo:e=>({type:l.SET_STATUS_LOAD_PROMO,payload:e})},c={loadFilms:()=>(e,t,a)=>a.get("films").then(t=>{const a=n.a.parseFilms(t.data);e(o.loadFilms(a)),e(o.setStatusLoadFilms(s.StatusRequestServer.SUCCESS))}),loadPromoFilm:()=>(e,t,a)=>a.get("/films/promo").then(t=>{const a=n.a.parseFilm(t.data);e(o.loadPromoFilm(a)),e(o.setStatusLoadPromo(s.StatusRequestServer.SUCCESS))})},u=(e=i,t)=>{switch(t.type){case l.LOAD_FILMS:return Object(r.a)(e,{films:t.payload});case l.LOAD_PROMO_FILM:case l.SET_PROMO_FILM:return Object(r.a)(e,{promoFilm:t.payload});case l.SET_STATUS_LOAD_FILMS:return Object(r.a)(e,{statusLoadFilms:t.payload});case l.SET_STATUS_LOAD_PROMO:return Object(r.a)(e,{statusLoadPromo:t.payload})}return e}},,function(e,t,a){"use strict";class n{constructor(e){this.backgroundColor=e.background_color,this.backgroundImage=e.background_image,this.description=e.description,this.director=e.director,this.genre=e.genre,this.id=e.id,this.isFavorite=e.is_favorite,this.name=e.name,this.posterImage=e.poster_image,this.previewImage=e.preview_image,this.previewVideoLink=e.preview_video_link,this.scoreCount=e.scores_count,this.starring=e.starring,this.rating=e.rating,this.released=e.released,this.runTime=e.run_time,this.video=e.video_link}toRAW(){return{backgroundColor:this.backgroundColor,backgroundImage:this.backgroundImage,description:this.description,director:this.genre,genre:this.id,id:this.film.id,isFavorite:this.isFavorite,name:this.name,posterImage:this.posterImage,previewImage:this.previewImage,previewVideoLink:this.previewVideoLink,scoreCount:this.scoreCount,starring:this.starring,rating:this.rating,released:this.released,runTime:this.runTime,video:this.video}}static parseFilm(e){return new n(e)}static parseFilms(e){return e.map(n.parseFilm)}}t.a=n},,function(e,t,a){"use strict";a.r(t),a.d(t,"getAuthStatus",(function(){return r})),a.d(t,"getUser",(function(){return s}));const n=a(4).a.USER,r=e=>e[n].authStatus,s=e=>e[n].user},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0);t.default=e=>{const{children:t}=e;return n.createElement("div",{className:"user-page"},t)}},,function(e,t,a){"use strict";a.r(t),a.d(t,"ActionCreator",(function(){return u})),a.d(t,"ActionType",(function(){return c})),a.d(t,"Operation",(function(){return d})),a.d(t,"reducer",(function(){return _}));var n=a(19),r=a(2),s=a(3),i=a(17),l=a(12);const o={favoriteFilms:[]},c={LOAD_FAVORITE_FILMS:"LOAD_FAVORITE_FILMS",REMOVE_FAVORITE_FILM:"REMOVE_FAVORITE_FILM",SET_FAVORITE_FILM:"SET_FAVORITE_FILM"},u={loadFavoriteFilms:e=>({type:c.LOAD_FAVORITE_FILMS,payload:e}),removeFavoriteFilm:e=>({type:c.REMOVE_FAVORITE_FILM,payload:e}),setFavoriteFilm:e=>({type:c.SET_FAVORITE_FILM,payload:e})},m=(e,t,a)=>{r.FavoriteButtonPlace.MAIN===t&&a(i.ActionCreator.setPromoFilm(e)),r.FavoriteButtonPlace.DETAILED===t&&a(l.ActionCreator.setFilm(e))},d={loadFavoriteFilms:()=>(e,t,a)=>a.get("/favorite").then(t=>{const a=n.a.parseFilms(t.data);e(u.loadFavoriteFilms(a))}).catch(e=>{throw e}),removeFavoriteFilm:(e,t)=>(a,n,r)=>{const i=`/favorite/${e.id}/0`;return r.post(i).then(n=>{const r=n.status,i=Object(s.a)(e,{isFavorite:!1});200===r&&a(u.removeFavoriteFilm(i)),m(i,t,a)}).catch(e=>{throw e})},setFavoriteFilm:(e,t)=>(a,n,r)=>{const i=`/favorite/${e.id}/1`;return r.post(i).then(n=>{const r=n.status,i=Object(s.a)(e,{isFavorite:!0});200===r&&a(u.setFavoriteFilm(i)),m(i,t,a)}).catch(e=>{throw e})}},_=(e=o,t)=>{switch(t.type){case c.LOAD_FAVORITE_FILMS:return Object(s.a)(e,{favoriteFilms:t.payload});case c.REMOVE_FAVORITE_FILM:return Object(s.a)(e,{favoriteFilms:e.favoriteFilms.filter(e=>e.id!==t.payload.id)});case c.SET_FAVORITE_FILM:return Object(s.a)(e,{favoriteFilms:[t.payload,...e.favoriteFilms]})}return e}},function(e,t,a){"use strict";a.r(t),a.d(t,"AuthStatus",(function(){return r.AuthStatus})),a.d(t,"ActionType",(function(){return c})),a.d(t,"ActionCreator",(function(){return u})),a.d(t,"DEFAULT_USER",(function(){return l})),a.d(t,"Operation",(function(){return d})),a.d(t,"reducer",(function(){return _}));var n=a(3),r=a(2);class s{constructor(e){this.avatarUrl=e.avatar_url,this.email=e.email,this.id=e.id,this.name=e.name}toRAW(){return{avatar_url:this.avatarUrl,email:this.email,id:this.id,name:this.name}}static parseUser(e){return new s(e)}}var i=s;const l={id:-1,email:"",name:"",avatarUrl:""},o={authStatus:null,user:l},c={CHECK_AUTHORIZATION:"CHECK_AUTHORIZATION",SET_USER:"SET_USER"},u={checkAuthorization:e=>({type:c.CHECK_AUTHORIZATION,payload:e}),signIn:e=>({type:c.SET_USER,payload:e})},m=(e,t)=>{const a=i.parseUser(e.data);t(u.checkAuthorization(r.AuthStatus.AUTH)),t(u.signIn(a))},d={checkAuthorization:()=>(e,t,a)=>a.get("/login").then(t=>{m(t,e)}).catch(t=>{throw e(u.checkAuthorization(r.AuthStatus.NO_AUTH)),t}),signIn:e=>(t,a,n)=>n.post("/login",{email:e.email,password:e.password}).then(e=>{200===e.status&&m(e,t)})},_=(e=o,t)=>{switch(t.type){case c.CHECK_AUTHORIZATION:return Object(n.a)(e,{authStatus:t.payload});case c.SET_USER:return Object(n.a)(e,{user:t.payload})}return e}},function(e,t,a){"use strict";a.r(t),a.d(t,"ActionCreator",(function(){return c})),a.d(t,"ActionType",(function(){return o})),a.d(t,"Operation",(function(){return u})),a.d(t,"reducer",(function(){return m}));class n{constructor(e){this.date=Date.parse(e.date),this.id=e.id,this.text=e.comment,this.rating=e.rating,this.user={id:e.user.id,name:e.user.name}}toRAW(){return{comment:this.comment,date:this.date,id:this.id,rating:this.rating,user:{id:this.user.id,name:this.user.name}}}static parseComment(e){return new n(e)}static parseComments(e){return e.map(n.parseComment)}}var r=n,s=a(2),i=a(3);const l={comments:[],statusUploadComment:null},o={LOAD_COMMENTS:"LOAD_COMMENTS",RESET_STATUS_UPLOAD:"RESET_STATUS_UPLOAD",SET_STATUS_UPLOAD:"SET_STATUS_UPLOAD",UPLOAD_COMMENT:"UPLOAD_COMMENT"},c={loadComments:e=>({type:o.LOAD_COMMENTS,payload:e}),resetStatusUpload:()=>({type:o.RESET_STATUS_UPLOAD}),setStatusUpload:e=>({type:o.SET_STATUS_UPLOAD,payload:e}),uploadComment:e=>({type:o.UPLOAD_COMMENT,payload:e})},u={loadComments:e=>(t,a,n)=>{const s="/comments/"+e;return n.get(s).then(e=>{const a=r.parseComments(e.data);t(c.loadComments(a))})},uploadComment:(e,t)=>(a,n,i)=>{const l="/comments/"+t;return i.post(l,{rating:e.rating,comment:e.comment}).then(e=>{if(200===e.status){const t=r.parseComments(e.data);a(c.setStatusUpload(s.StatusRequestServer.SUCCESS)),a(c.uploadComment(t))}else a(c.setStatusUpload(s.StatusRequestServer.FAIL))}).catch(e=>{throw a(c.setStatusUpload(s.StatusRequestServer.FAIL)),e})}},m=(e=l,t)=>{switch(t.type){case o.LOAD_COMMENTS:return Object(i.a)(e,{comments:t.payload});case o.RESET_STATUS_UPLOAD:return Object(i.a)(e,{statusUploadComment:null});case o.SET_STATUS_UPLOAD:return Object(i.a)(e,{statusUploadComment:t.payload});case o.UPLOAD_COMMENT:return Object(i.a)(e,{comments:t.payload})}return e}},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(16),s=a(31),i=a(22);t.default=e=>{const{isAuth:t,isLink:a,isWithSignIn:l,message:o}=e;return n.createElement(i.default,null,n.createElement(s.default,{isAuth:t,isLink:a,isWithSignIn:l}),n.createElement("div",{className:"user-page__content user-page__content--message"},n.createElement("h2",{className:"page-title"},o)),n.createElement(r.default,{isLink:a}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(11),s=a(2),i=()=>n.createElement(n.Fragment,null,n.createElement("span",{className:"logo__letter logo__letter--1"},"W"),n.createElement("span",{className:"logo__letter logo__letter--2"},"T"),n.createElement("span",{className:"logo__letter logo__letter--3"},"W"));t.default=e=>{const{isLink:t,modificatorClass:a}=e;return n.createElement("div",{className:"logo"},t&&n.createElement(r.Link,{className:"logo__link "+(a||""),to:s.AppRoute.ROOT},i()),t||n.createElement("a",{className:"logo__link "+(a||"")},i()))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(48),s=a(49),i=a(30);t.default=e=>{const{headline:t,isAuth:a,isLink:l,isWithSignIn:o}=e;return n.createElement("header",{className:"page-header user-page__head"},n.createElement(i.default,{isLink:l}),n.createElement("h1",{className:"page-title user-page__title"},t),o&&n.createElement("div",{className:"user-block"},a?n.createElement(s.default,null):n.createElement(r.default,null)))}},function(e,t,a){"use strict";a.r(t),a.d(t,"getAmountRenderFilmCard",(function(){return r})),a.d(t,"getGenre",(function(){return s})),a.d(t,"getFilm",(function(){return i}));var n=a(4);const r=e=>e[n.a.OPTIONS].amountRenderFilmCard,s=e=>e[n.a.OPTIONS].genre,i=e=>e[n.a.OPTIONS].film},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilmCatalog=void 0;const n=a(0),r=a(10),s=a(2),i=a(114),l=a(32),o=a(15),c=a(115),u=a(119),m=a(120),d=e=>{const{amountRenderFilmCard:t,filmsFavorite:a,filmsByGenre:r,filmsLikeThis:i,sign:l}=e;return n.createElement("section",{className:"catalog"},l===s.FilmCardsListType.FAVORITES&&n.createElement(n.Fragment,null,n.createElement("h2",{className:"catalog__title visually-hidden"},"Catalog"),n.createElement(c.default,{films:a})),l===s.FilmCardsListType.MAIN&&n.createElement(n.Fragment,null,n.createElement("h2",{className:"catalog__title visually-hidden"},"Catalog"),n.createElement(u.default,null),n.createElement(c.default,{films:r.slice(0,t)}),r.length<=t?"":n.createElement(m.default,null)),l===s.FilmCardsListType.LIKE_THIS&&n.createElement(n.Fragment,null,n.createElement("h2",{className:"catalog__title"},"More like this"),n.createElement(c.default,{films:i,prefix:s.FilmCardsListType.LIKE_THIS})))};t.FilmCatalog=d;t.default=r.connect(e=>({amountRenderFilmCard:l.getAmountRenderFilmCard(e),filmsFavorite:i.getFavoriteFilms(e),filmsByGenre:o.getFilmsByGenre(e),filmsLikeThis:o.getFilmsLikeThis(e)}))(d)},,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"getComments",(function(){return r})),a.d(t,"getStatus",(function(){return s}));var n=a(4);const r=e=>e[n.a.COMMENT].comments,s=e=>e[n.a.COMMENT].statusUploadComment},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(11),s=a(2);t.default=()=>n.createElement(r.Link,{to:s.AppRoute.LOGIN,className:"user-block__link"},"Sign in")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonUser=void 0;const n=a(0),r=a(10),s=a(11),i=a(2),l=a(21),o=e=>{const{user:t}=e;return n.createElement(s.Link,{to:i.AppRoute.MY_LIST},n.createElement("div",{className:"user-block__avatar"},n.createElement("img",{src:"https://htmlacademy-react-3.appspot.com/"+t.avatarUrl,alt:"User avatar",width:"63",height:"63"})))};t.ButtonUser=o;t.default=r.connect(e=>({user:l.getUser(e)}))(o)},,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonFavorite=void 0;const n=a(0),r=a(10),s=a(24),i=e=>{const{film:t,isFavorite:a,place:r,onRemoveFavorite:s,onSetFavorite:i}=e;return a?n.createElement("button",{className:"btn movie-card__button btn--list",type:"button",onClick:()=>s(t,r)},n.createElement("svg",{width:"18",height:"14",viewBox:"0 0 18 14"},n.createElement("use",{xlinkHref:"#in-list"})),n.createElement("span",null,"My list")):n.createElement("button",{className:"btn movie-card__button btn--list",type:"button",onClick:()=>i(t,r)},n.createElement("svg",{width:"19",height:"20",viewBox:"0 0 19 20"},n.createElement("use",{xlinkHref:"#add"})),n.createElement("span",null,"My list"))};t.ButtonFavorite=i;t.default=r.connect(null,e=>({onRemoveFavorite:(t,a)=>{e(s.Operation.removeFavoriteFilm(t,a))},onSetFavorite:(t,a)=>{e(s.Operation.setFavoriteFilm(t,a))}}))(i)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(11);t.default=e=>{const{film:t}=e;return n.createElement(r.Link,{className:"btn btn--play movie-card__button",to:"/player/"+t.id,style:{textDecoration:"none"}},n.createElement("svg",{viewBox:"0 0 19 19",width:"19",height:"19"},n.createElement("use",{xlinkHref:"#play-s"})),n.createElement("span",null,"Play"))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(48),s=a(49),i=a(30);t.default=e=>{const{backgroundImage:t,isAuth:a,isLink:l}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:"movie-card__bg"},n.createElement("img",{src:t,alt:"The Grand Budapest Hotel"})),n.createElement("h1",{className:"visually-hidden"},"WTW"),n.createElement("header",{className:"page-header movie-card__head"},n.createElement(i.default,{isLink:l}),n.createElement("div",{className:"user-block"},a?n.createElement(s.default,null):n.createElement(r.default,null))))}},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(28),s=a(14),i=a(10),l=a(67),o=a(68),c=a(69),u=a(17),m=a(25),d=a(70),_=a(2),p=a(88),E=d.createAPI(()=>{h.dispatch(m.ActionCreator.checkAuthorization(m.AuthStatus.NO_AUTH))},()=>{h.dispatch(u.ActionCreator.setStatusLoadFilms(_.StatusRequestServer.FAIL))}),h=s.createStore(c.default,o.composeWithDevTools(s.applyMiddleware(l.default.withExtraArgument(E))));h.dispatch(u.Operation.loadFilms()),h.dispatch(u.Operation.loadPromoFilm()),h.dispatch(m.Operation.checkAuthorization()),r.render(n.createElement(i.Provider,{store:h},n.createElement(p.default,null)),document.querySelector("#root"))},,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(26),s=a(24),i=a(17),l=a(12),o=a(25),c=a(4);t.default=Object(n.combineReducers)({[c.a.COMMENT]:r.reducer,[c.a.OPTIONS]:l.reducer,[c.a.FAVORITE]:s.reducer,[c.a.FILMS]:i.reducer,[c.a.USER]:o.reducer})},function(e,t,a){"use strict";a.r(t),a.d(t,"createAPI",(function(){return i}));var n=a(57),r=a.n(n);const s=401,i=(e,t)=>{const a=r.a.create({baseURL:"https://htmlacademy-react-3.appspot.com/wtw",timeout:5e3,withCredentials:!0});return a.interceptors.response.use(e=>e,a=>{const{response:n}=a;throw"Network Error"===a.message?t():n.status===s&&e(),a}),a}},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const n=a(0),r=a(10),s=a(2),i=a(26),l=a(24),o=a(25),c=a(47),u=a(15),m=a(21),d=a(89),_=a(29),p=a(91),E=e=>{const{authStatus:t,films:a,loadFavorite:r,signIn:i,statusLoadFilms:l,statusLoadPromo:o,statusUploadComment:c,uploadComment:u}=e,m=t===s.AuthStatus.AUTH,E=null===l||null===o||null===t;return l===s.StatusRequestServer.FAIL?n.createElement(_.default,{isAuth:m,isLink:!1,isWithSignIn:!1,message:s.NoAvailableMessage.ERROR_SERVER}):E?n.createElement(d.default,null):(m&&r(),n.createElement(p.App,{authStatus:t,films:a,signIn:i,statusLoadFilms:l,statusUploadComment:c,uploadComment:u}))};t.App=E;t.default=r.connect(e=>({authStatus:m.getAuthStatus(e),films:u.getFilms(e),statusLoadFilms:u.getStatusFilms(e),statusLoadPromo:u.getStatusPromo(e),statusUploadComment:c.getStatus(e)}),e=>({loadFavorite:()=>{e(l.Operation.loadFavoriteFilms())},signIn:t=>{e(o.Operation.signIn(t))},uploadComment:(t,a)=>{e(i.Operation.uploadComment(t,a))}}))(E)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(22);t.default=()=>n.createElement(r.default,null,n.createElement("div",{className:"lds-ring"},n.createElement("div",null),n.createElement("div",null),n.createElement("div",null),n.createElement("div",null)))},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const n=a(0),r=a(11),s=a(2),i=a(92),l=a(126),o=a(127),c=a(128),u=a(129),m=a(29),d=a(131),_=a(133),p=a(134).default(o.default),E=_.default(d.default);t.App=e=>{const{authStatus:t,films:a,signIn:o,statusLoadFilms:d,statusUploadComment:_,uploadComment:h}=e,f=t===s.AuthStatus.AUTH,v=0===a.length,g=null===d||null===t;return n.createElement(r.BrowserRouter,{basename:"/what-to-watch"},n.createElement(r.Switch,null,n.createElement(r.Route,{exact:!0,path:s.AppRoute.ROOT,render:()=>!g&&v?n.createElement(m.default,{isAuth:f,isLink:!1,isWithSignIn:!0,message:s.NoAvailableMessage.FILMS}):n.createElement(u.default,null)}),n.createElement(r.Route,{exact:!0,path:s.AppRoute.LOGIN,render:()=>n.createElement(E,{isAuth:f,signIn:o})}),n.createElement(i.default,{exact:!0,isAuth:f,path:s.AppRoute.PLAYER,statusLoadFilms:d}),n.createElement(i.default,{exact:!0,isAuth:f,path:s.AppRoute.FILM,statusLoadFilms:d}),n.createElement(l.default,{exact:!0,isAuth:f,path:s.AppRoute.MY_LIST,render:()=>n.createElement(c.default,{isAuth:f})}),n.createElement(l.default,{exact:!0,isAuth:f,path:s.AppRoute.ADD_COMMENT,render:e=>{console.log(e);const t=parseInt(e.match.params.id,10);return n.createElement(p,{filmId:t,uploadComment:h,statusUploadComment:_})}}),n.createElement(r.Route,{path:s.AppRoute.NOT_FOUND,render:()=>n.createElement(m.default,{isAuth:f,isLink:!0,isWithSignIn:!0,message:s.NoAvailableMessage.PAGE})})))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithFilm=void 0;const n=a(0),r=a(11),s=a(93),i=a(10),l=a(2),o=a(26),c=a(12),u=a(32),m=a(15),d=a(111),_=a(112),p=a(29),E=a(125).default(_.default),h=e=>{const{isAuth:t,films:a,onLoadComment:i,onSetCurrentFilm:o,path:c}=e;return n.createElement(r.Route,{exact:!0,path:c,render:r=>{const u=parseInt(r.match.params.id,10);if(null===e.film||e.film.id!==u)return i(u),((e,t,a)=>{a(e.find(e=>e.id===t))})(a,u,o),"";switch(c){case l.AppRoute.PLAYER:return n.createElement("div",{className:"player"},n.createElement(d.default,null),n.createElement(s.default,{className:"react-player",controls:!0,playing:!0,url:e.film.video,width:"100%",height:"100%"}));case l.AppRoute.FILM:return n.createElement(E,{film:e.film})}return n.createElement(p.default,{isAuth:t,isLink:!0,isWithSignIn:!0,message:l.NoAvailableMessage.PAGE})}})};t.WithFilm=h;t.default=i.connect(e=>({film:u.getFilm(e),films:m.getFilms(e)}),e=>({onLoadComment(t){e(o.Operation.loadComments(t))},onSetCurrentFilm(t){e(c.ActionCreator.setFilm(t))}}))(h)},,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonExitPlayer=void 0;const n=a(0),r=a(10),s=a(11),i=a(2),l=a(12),o=e=>{const{onButtonExitClick:t}=e;return n.createElement(s.Link,{to:i.AppRoute.ROOT},n.createElement("button",{type:"button",className:"player__exit",onClick:()=>{t()}},"Exit"))};t.ButtonExitPlayer=o;t.default=r.connect(null,e=>({onButtonExitClick(){e(l.ActionCreator.resetFilm())}}))(o)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilmDetailed=void 0;const n=a(0),r=a(10),s=a(2),i=a(21),l=a(113),o=a(53),c=a(54),u=a(33),m=a(121),d=a(122),_=a(123),p=a(124),E=a(16),h=a(55),f=e=>{const{authStatus:t,film:a,currentTypeTab:r,onTabClick:i}=e,{backgroundImage:f,genre:v,id:g,isFavorite:S,name:O,posterImage:F,released:T}=a,A=t===s.AuthStatus.AUTH;return n.createElement(n.Fragment,null,n.createElement("section",{className:"movie-card movie-card--full"},n.createElement("div",{className:"movie-card__hero"},n.createElement(h.default,{backgroundImage:f,isAuth:A,isLink:!0}),n.createElement("div",{className:"movie-card__wrap"},n.createElement("div",{className:"movie-card__desc"},n.createElement("h2",{className:"movie-card__title"},O),n.createElement("p",{className:"movie-card__meta"},n.createElement("span",{className:"movie-card__genre"},v),n.createElement("span",{className:"movie-card__year"},T)),n.createElement("div",{className:"movie-card__buttons"},n.createElement(c.default,{film:a}),A&&n.createElement(n.Fragment,null,n.createElement(o.default,{film:a,isFavorite:S,place:s.FavoriteButtonPlace.DETAILED}),n.createElement(l.default,{id:g})))))),n.createElement("div",{className:"movie-card__wrap movie-card__translate-top"},n.createElement("div",{className:"movie-card__info"},n.createElement("div",{className:"movie-card__poster movie-card__poster--big"},n.createElement("img",{src:F,alt:O,width:"218",height:"327"})),n.createElement("div",{className:"movie-card__desc"},n.createElement(m.default,{currentTypeTab:r,onTabClick:i}),((e,t)=>{const{description:a,director:r,genre:i,rating:l,released:o,runTime:c,scoreCount:u,starring:m}=e;switch(t){case s.FilmDetailedTabsType.DETAILS:return n.createElement(_.default,{director:r,genre:i,released:o,runTime:c,starring:m});case s.FilmDetailedTabsType.REVIEWS:return n.createElement(d.default,null);default:return n.createElement(p.default,{description:a,director:r,rating:l,scoreCount:u,starring:m})}})(a,r))))),n.createElement("div",{className:"page-content"},n.createElement(u.default,{sign:s.FilmCardsListType.LIKE_THIS}),n.createElement(E.default,{isLink:!0})))};t.FilmDetailed=f;t.default=r.connect(e=>({authStatus:i.getAuthStatus(e)}))(f)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(11);t.default=e=>{const{id:t}=e;return n.createElement(r.Link,{className:"btn movie-card__button",to:`/films/${t}/review`},"Add review")}},function(e,t,a){"use strict";a.r(t),a.d(t,"getFavoriteFilms",(function(){return r}));var n=a(4);const r=e=>e[n.a.FAVORITE].favoriteFilms},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(116),s=a(118).default(r.default);t.default=e=>{const{films:t,prefix:a}=e;return n.createElement("div",{className:"catalog__movies-list "+(a||"")},t.map(e=>n.createElement(s,{film:e,key:e.id})))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(11),s=a(117);t.default=e=>{const{isPlayVideo:t,onMouseEnter:a,onMouseLeave:i,onStopPreviewClick:l}=e,{id:o,posterImage:c,previewImage:u,previewVideoLink:m,name:d}=e.film;return n.createElement("article",{className:"small-movie-card catalog__movies-card",onClick:()=>{l()},onMouseEnter:()=>{a()},onMouseLeave:()=>{i()}},n.createElement(r.Link,{to:"/films/"+o},n.createElement("div",{className:"small-movie-card__image"},t||n.createElement("img",{src:u,alt:d,width:"280",height:"175"}),t&&n.createElement(s.default,{posterImage:c,previewVideoLink:m}))),n.createElement("h3",{className:"small-movie-card__title"},n.createElement(r.Link,{className:"small-movie-card__link",href:"#",to:"/films/"+o},d)))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0);t.default=e=>{const{previewVideoLink:t,posterImage:a}=e;return n.createElement("video",{autoPlay:!0,muted:!0,poster:a,src:t,height:"175"})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0);t.default=e=>{class t extends n.PureComponent{constructor(e){super(e),this.state={isPlayVideo:!1},this._handleMouseClick=this._handleMouseClick.bind(this),this._handleMouseEnter=this._handleMouseEnter.bind(this),this._handleMouseLeave=this._handleMouseLeave.bind(this),this._timer=null,this._setPlayVideo=this._setPlayVideo.bind(this)}componentWillUnmount(){this._timer&&clearTimeout(this._timer)}render(){const{isPlayVideo:t}=this.state;return n.createElement(e,Object.assign({isPlayVideo:t,onStopPreviewClick:this._handleMouseClick,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},this.props))}_handleMouseClick(){this.setState({isPlayVideo:!1})}_handleMouseEnter(){this._timer=setTimeout(()=>{this._setPlayVideo()},1e3)}_handleMouseLeave(){this._timer&&!this.state.isPlayVideo||this._setPlayVideo(),clearTimeout(this._timer)}_setPlayVideo(){this.setState(e=>({isPlayVideo:!e.isPlayVideo}))}}return t}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenresList=void 0;const n=a(0),r=a(10),s=a(12),i=a(32),l=a(15),o=e=>{const{currentGenre:t,genres:a,onGenreClick:r}=e;return n.createElement("ul",{className:"catalog__genres-list"},a.map(e=>n.createElement("li",{key:e,className:e===t?"catalog__genres-item catalog__genres-item--active":"catalog__genres-item",onClick:()=>{r(e)}},n.createElement("a",{href:"#",className:"catalog__genres-link"},e))))};t.GenresList=o;t.default=r.connect(e=>({currentGenre:i.getGenre(e),genres:l.getGenres(e)}),e=>({onGenreClick(t){e(s.ActionCreator.resetAmountRenderFilmCard()),e(s.ActionCreator.setGenre(t))}}))(o)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowMoreButton=void 0;const n=a(0),r=a(10),s=a(12),i=e=>{const{onShowMoreButtonClick:t}=e;return n.createElement("div",{className:"catalog__more"},n.createElement("button",{className:"catalog__button",type:"button",onClick:()=>{t()}},"Show more"))};t.ShowMoreButton=i;t.default=r.connect(null,e=>({onShowMoreButtonClick(){e(s.ActionCreator.setAmountRenderFilmCard())}}))(i)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(2);t.default=e=>{const{currentTypeTab:t,onTabClick:a}=e;return n.createElement("nav",{className:"movie-nav movie-card__nav"},n.createElement("ul",{className:"movie-nav__list"},Object.values(r.FilmDetailedTabsType).map(e=>n.createElement("li",{key:e,className:"movie-nav__item "+(t===e?"movie-nav__item--active":""),onClick:()=>{a(e)}},n.createElement("a",{href:"#",className:"movie-nav__link"},e)))))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabComments=void 0;const n=a(0),r=a(10),s=a(47),i=e=>n.createElement("div",{key:e.id+"-review",className:"review"},n.createElement("blockquote",{className:"review__quote"},n.createElement("p",{className:"review__text"},e.text),n.createElement("footer",{className:"review__details"},n.createElement("cite",{className:"review__author"},e.user.name),n.createElement("time",{className:"review__date",dateTime:new Date(e.date).toISOString()},(e=>{const t={year:"numeric",day:"numeric",month:"long"};return new Date(e).toLocaleString("en-US",t)})(e.date)))),n.createElement("div",{className:"review__rating"},e.rating)),l=e=>{const{comments:t}=e;return n.createElement("div",{className:"movie-card__reviews movie-card__row"},n.createElement("div",{className:"movie-card__reviews-col"},t.filter((e,t)=>(t+1)%2).map(e=>i(e))),n.createElement("div",{className:"movie-card__reviews-col"},t.filter((e,t)=>!((t+1)%2)).map(e=>i(e))))};t.TabComments=l;t.default=r.connect(e=>({comments:s.getComments(e)}))(l)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0);t.default=e=>{const{director:t,genre:a,released:r,runTime:s,starring:i}=e;return n.createElement("div",{className:"movie-card__text movie-card__row"},n.createElement("div",{className:"movie-card__text-col"},n.createElement("p",{className:"movie-card__details-item"},n.createElement("strong",{className:"movie-card__details-name"},"Director"),n.createElement("span",{className:"movie-card__details-value"},t)),n.createElement("p",{className:"movie-card__details-item"},n.createElement("strong",{className:"movie-card__details-name"},"Starring"),n.createElement("span",{className:"movie-card__details-value"},(e=>e.map((t,a)=>n.createElement(n.Fragment,{key:""+t+a},t,a<e.length-1?", ":""," ",n.createElement("br",null))))(i)))),n.createElement("div",{className:"movie-card__text-col"},n.createElement("p",{className:"movie-card__details-item"},n.createElement("strong",{className:"movie-card__details-name"},"Run Time"),n.createElement("span",{className:"movie-card__details-value"},(e=>{let t=null,a=null;t=Math.floor(e/60),a=e%60;return`${t>=1?t+"h":""} ${a?a+"m":""}`})(s))),n.createElement("p",{className:"movie-card__details-item"},n.createElement("strong",{className:"movie-card__details-name"},"Genre"),n.createElement("span",{className:"movie-card__details-value"},a)),n.createElement("p",{className:"movie-card__details-item"},n.createElement("strong",{className:"movie-card__details-name"},"Released"),n.createElement("span",{className:"movie-card__details-value"},r))))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=0,s=3,i=5,l=8,o=10;t.default=e=>{const{description:t,director:a,rating:c,scoreCount:u,starring:m}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:"movie-rating"},n.createElement("div",{className:"movie-rating__score"},c),n.createElement("p",{className:"movie-rating__meta"},n.createElement("span",{className:"movie-rating__level"},(e=>{let t="";switch(!0){case e>=o:t="Awesome";break;case e>=l:t="Very good";break;case e>=i:t="Good";break;case e>=s:t="Normal";break;case e>=r:t="Bad"}return t})(c)),n.createElement("span",{className:"movie-rating__count"},u," ratings"))),n.createElement("div",{className:"movie-card__text"},t,n.createElement("p",{className:"movie-card__director"},n.createElement("strong",null,"Director: ",a)),n.createElement("p",{className:"movie-card__starring"},n.createElement("strong",null,"Starring: ",m))))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(2);t.default=e=>{class t extends n.PureComponent{constructor(e){super(e),this.state={currentTypeTab:r.FilmDetailedTabsType.OVERVIEW},this._handleTabTypeChange=this._handleTabTypeChange.bind(this)}render(){const{currentTypeTab:t}=this.state;return n.createElement(e,Object.assign({currentTypeTab:t,onTabClick:this._handleTabTypeChange},this.props))}_handleTabTypeChange(e){this.setState({currentTypeTab:e})}}return t}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(11),s=a(2);t.default=e=>{const{exact:t,isAuth:a,path:i,render:l}=e;return n.createElement(r.Route,{exact:t,path:i,render:e=>a?l(e):n.createElement(r.Redirect,{to:{pathname:s.AppRoute.LOGIN,state:{from:e.location}}})})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(11),s=a(2),i=[1,2,3,4,5];t.default=e=>{const{filmId:t,isDisabledSubmitButton:a,onChange:l,onSubmit:o,statusUploadComment:c}=e;return c===s.StatusRequestServer.SUCCESS?n.createElement(r.Redirect,{to:"/films/"+t}):n.createElement("div",{className:"add-review"},n.createElement("form",{action:"#",className:"add-review__form",onSubmit:o},n.createElement("div",{className:"rating"},n.createElement("div",{className:"rating__stars"},i.map(e=>((e,t)=>n.createElement(n.Fragment,{key:e},n.createElement("input",{className:"rating__input",id:"star-"+e,onChange:e=>t({type:"rating",value:e.target.value}),name:"rating",type:"radio",value:e}),n.createElement("label",{className:"rating__label",htmlFor:"star-"+e},"Rating ",e)))(e,l)))),n.createElement("div",{className:"add-review__text"},n.createElement("textarea",{className:"add-review__textarea",name:"review-text",id:"review-text",placeholder:"Review text",onChange:e=>l({type:"comment",value:e.target.value})}),n.createElement("div",{className:"add-review__submit"},n.createElement("button",{className:"add-review__btn",disabled:a,type:"submit"},"Post")))))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(2),s=a(33),i=a(16),l=a(31),o=a(22);t.default=e=>{const{isAuth:t}=e;return n.createElement(o.default,null,n.createElement(l.default,{headline:"My list",isAuth:t,isLink:!0,isWithSignIn:!1}),n.createElement(s.default,{sign:r.FilmCardsListType.FAVORITES}),n.createElement(i.default,{isLink:!0}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(2),s=a(130),i=a(33),l=a(16);t.default=()=>n.createElement(n.Fragment,null,n.createElement(s.default,null),n.createElement("div",{className:"page-content"},n.createElement(i.default,{sign:r.FilmCardsListType.MAIN}),n.createElement(l.default,{isLink:!1})))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilmCardMain=void 0;const n=a(0),r=a(10),s=a(2),i=a(15),l=a(21),o=a(55),c=a(53),u=a(54),m=e=>{const{authStatus:t,promoFilm:a}=e,{backgroundImage:r,genre:i,isFavorite:l,name:m,posterImage:d,released:_}=a,p=t===s.AuthStatus.AUTH;return n.createElement("section",{className:"movie-card"},n.createElement(o.default,{isAuth:p,backgroundImage:r,isLink:!1}),n.createElement("div",{className:"movie-card__wrap"},n.createElement("div",{className:"movie-card__info"},n.createElement("div",{className:"movie-card__poster"},n.createElement("img",{src:d,alt:m,width:"218",height:"327"})),n.createElement("div",{className:"movie-card__desc"},n.createElement("h2",{className:"movie-card__title"},m),n.createElement("p",{className:"movie-card__meta"},n.createElement("span",{className:"movie-card__genre"},i),n.createElement("span",{className:"movie-card__year"},_)),n.createElement("div",{className:"movie-card__buttons"},n.createElement(u.default,{film:a}),p&&n.createElement(c.default,{film:a,isFavorite:l,place:s.FavoriteButtonPlace.MAIN}))))))};t.FilmCardMain=m;t.default=r.connect(e=>({authStatus:l.getAuthStatus(e),promoFilm:i.getPromoFilm(e)}))(m)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=a(11),s=a(2),i=a(16),l=a(31),o=a(132),c=a(22);t.default=e=>{const{isAuth:t,isDisabledSubmitButton:a,onChange:u,onSubmit:m}=e;return n.createElement(n.Fragment,null,t&&n.createElement(r.Redirect,{to:s.AppRoute.ROOT}),t||n.createElement(c.default,null,n.createElement(l.default,{headline:"Sign in",isAuth:t,isLink:!0,isWithSignIn:!0}),n.createElement("div",{className:"sign-in user-page__content"},n.createElement("form",{action:"#",className:"sign-in__form",onSubmit:m},n.createElement(o.default,{onChange:u}),n.createElement("div",{className:"sign-in__submit"},n.createElement("button",{className:"sign-in__btn",type:"submit",disabled:a},"Sign in")))),n.createElement(i.default,{isLink:!0})))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0),r=[{type:"email",description:"Email address"},{type:"password",description:"Password"}];t.default=e=>{const{onChange:t}=e;return n.createElement("div",{className:"sign-in__fields"},r.map(e=>((e,t,a)=>n.createElement("div",{className:"sign-in__field",key:e},n.createElement("input",{className:"sign-in__input",type:e,placeholder:t,name:"user-"+e,id:"user-"+e,onChange:t=>a({type:e,value:t.target.value})}),n.createElement("label",{className:"sign-in__label visually-hidden",htmlFor:"user-"+e},t)))(e.type,e.description,t)))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0);t.default=e=>{class t extends n.PureComponent{constructor(e){super(e),this.state={email:"",password:""},this._checkUserData=this._checkUserData.bind(this),this._handleInputChange=this._handleInputChange.bind(this),this._handleFormSubmit=this._handleFormSubmit.bind(this)}render(){return n.createElement(e,Object.assign({isDisabledSubmitButton:this._checkUserData(),onChange:this._handleInputChange,onSubmit:this._handleFormSubmit},this.props))}_checkUserData(){return!this.state.email||!this.state.password}_handleInputChange(e){"email"===e.type&&this.setState({email:e.value}),"password"===e.type&&this.setState({password:e.value})}_handleFormSubmit(e){const{signIn:t}=this.props;e.preventDefault();t({email:this.state.email,password:this.state.password})}}return t}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(0);t.default=e=>{class t extends n.PureComponent{constructor(e){super(e),this.state={rating:5,comment:""},this._checkComment=this._checkComment.bind(this),this._handleFormSubmit=this._handleFormSubmit.bind(this),this._handleInputChange=this._handleInputChange.bind(this)}render(){return n.createElement(e,Object.assign({isDisabledSubmitButton:this._checkComment(),onChange:this._handleInputChange,onSubmit:this._handleFormSubmit},this.props))}_checkComment(){return!(this.state.comment.length>=50&&this.state.comment.length<=400)}_handleFormSubmit(e){const{uploadComment:t,filmId:a}=this.props;e.preventDefault();t({rating:this.state.rating,comment:this.state.comment},a)}_handleInputChange(e){"comment"===e.type&&this.setState({comment:e.value}),"rating"===e.type&&this.setState({rating:e.value})}}return t}}]);